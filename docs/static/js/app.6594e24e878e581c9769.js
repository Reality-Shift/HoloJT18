webpackJsonp([1],{0:function(t,e){},"1/oy":function(t,e){},"5Ztd":function(t,e){},"9M+g":function(t,e){},AS41:function(t,e,a){t.exports=a.p+"static/img/background.de4d1ee.jpg"},FQF2:function(t,e){},Id91:function(t,e){},Jmt5:function(t,e){},Kk49:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("7+uW"),s=a("e6fC"),n=a("8+8L"),r=a("18Sv"),o=a.n(r),l=a("ESwS"),c=a.n(l),d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var m=a("VU/8")({name:"App"},d,!1,function(t){a("Kk49")},null,null).exports,h=a("/ocq"),u=(a("Jmt5"),a("9M+g"),a("AS41")),p=a.n(u),v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"catalog-header py-3"},[a("div",{staticClass:"row nomargin flex-nowrap justify-content-between align-items-center"},[t._m(0),t._v(" "),t.hide_buttons||t.authorized?t._e():a("div",{staticClass:"col-4 d-flex justify-content-end align-items-center"},[a("router-link",{staticClass:"btn btn-sm btn-link text-danger",attrs:{to:"/login",id:"signin"}},[t._v("Sign in")]),t._v(" "),a("router-link",{staticClass:"btn btn-sm btn-outline-danger",attrs:{to:"/register"}},[t._v("Get started")])],1),t._v(" "),!t.hide_buttons&&t.authorized?a("div",{staticClass:"col-4 d-flex justify-content-end align-items-center"},[a("button",{staticClass:"btn btn-sm btn-outline-danger",on:{click:function(e){t.exitShop()}}},[t._v("Exit from "),a("b",[t._v(t._s(t.shopName))])])]):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-4 pt-1"},[e("a",{staticClass:"text-muted",attrs:{href:"/"}},[e("h4",[this._v("@placeit")])])])}]};var f=a("VU/8")({data:function(){return{projectName:this.projectName,hide_buttons:"true"==this.hidebuttons,authorized:this.$session.has("shopName"),shopName:this.$session.get("shopName")}},methods:{exitShop:function(){this.$session.destroy(),this.$router.replace("/")}},props:["hidebuttons"]},v,!1,function(t){a("5Ztd")},null,null).exports,b={name:"Main",data:function(){return{backgroundImage:p.a}},components:{NavMenu:f}},g={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container-full",style:{backgroundImage:"url('"+this.backgroundImage+"')"}},[e("div",{staticClass:"d-flex flex-column justify-content-start align-items-stretch",attrs:{id:"top-container"}},[e("div",{staticClass:"dark"},[e("nav-menu")],1),this._v(" "),e("div",{staticClass:"dark",attrs:{id:"buttons-container"}},[e("div",{staticClass:"btn btn-danger btn-lg"},[e("router-link",{staticClass:"text-white",attrs:{to:"/info"}},[this._v("I'm a customer")])],1),this._v(" "),e("div",{staticClass:"btn btn-link"},[e("router-link",{staticClass:"text-white",attrs:{to:"/shop"}},[e("u",[this._v("I'm a shop")])])],1)])])])},staticRenderFns:[]};var x=a("VU/8")(b,g,!1,function(t){a("UIyo")},"data-v-7f9cc048",null).exports,_=a("aREd"),w=a.n(_),C={name:"Main",data:function(){return{backgroundImage:p.a,chairImage:w.a}},components:{NavMenu:f}},y={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container-full",style:{backgroundImage:"url('"+this.backgroundImage+"')"}},[e("div",{staticClass:"d-flex flex-column justify-content-start align-items-stretch",attrs:{id:"top-container"}},[e("div",{staticClass:"dark"},[e("nav-menu")],1),this._v(" "),e("div",{attrs:{id:"body-container"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"row",staticStyle:{width:"100%"}},[e("link",{attrs:{rel:"stylesheet",href:"//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"}}),this._v(" "),e("div",{staticClass:"col-md-7",style:{backgroundImage:"url('"+this.chairImage+"')"},attrs:{id:"empty-space"}}),this._v(" "),this._m(0)])])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-5 d-flex flex-column justify-content-center align-items-start"},[a("h2",[t._v("@placeit "),a("small",{staticClass:"text-muted"},[t._v("is")])]),t._v(" "),a("ul",[a("li",[t._v("Ability for customers to try on goods in AR before buying")]),t._v(" "),a("li",[t._v("A service which helps online stores to simplify logistics")]),t._v(" "),a("li",[t._v("Add-on API interface for Minikura")])]),t._v(" "),a("hr"),t._v(" "),a("a",{staticClass:"btn btn-app-store pull-right",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-apple"}),t._v(" "),a("span",{staticClass:"small pull-left"},[t._v("Download soon on")]),a("br"),a("span",{staticClass:"big"},[t._v("App Store")])]),t._v(" "),a("a",{staticClass:"btn btn-app-store",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-windows"}),t._v(" "),a("span",{staticClass:"small pull-left"},[t._v("Get it soon from")]),a("br"),a("span",{staticClass:"big"},[t._v("Windows Store")])])])}]};var j=a("VU/8")(C,y,!1,function(t){a("Z4Eo")},"data-v-1c5e24c4",null).exports,k=a("Ml+6");var F=function(){var t=/^[og]\s*(.+)?/,e=/^mtllib /,a=/^usemtl /;function i(t){this.manager=void 0!==t?t:k.d,this.materials=null}return i.prototype={constructor:i,load:function(t,e,a,i){e(this.parse(t))},setPath:function(t){this.path=t},setMaterials:function(t){return this.materials=t,this},parse:function(i){console.time("OBJLoader");var s=new function(){var t={objects:[],object:{},vertices:[],normals:[],uvs:[],materialLibraries:[],startObject:function(t,e){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=t,void(this.object.fromDeclaration=!1!==e);var a=this.object&&"function"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:t||"",fromDeclaration:!1!==e,geometry:{vertices:[],normals:[],uvs:[]},materials:[],smooth:!0,startMaterial:function(t,e){var a=this._finalize(!1);a&&(a.inherited||a.groupCount<=0)&&this.materials.splice(a.index,1);var i={index:this.materials.length,name:t||"",mtllib:Array.isArray(e)&&e.length>0?e[e.length-1]:"",smooth:void 0!==a?a.smooth:this.smooth,groupStart:void 0!==a?a.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(t){var e={index:"number"==typeof t?t:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return e.clone=this.clone.bind(e),e}};return this.materials.push(i),i},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(t){var e=this.currentMaterial();if(e&&-1===e.groupEnd&&(e.groupEnd=this.geometry.vertices.length/3,e.groupCount=e.groupEnd-e.groupStart,e.inherited=!1),t&&this.materials.length>1)for(var a=this.materials.length-1;a>=0;a--)this.materials[a].groupCount<=0&&this.materials.splice(a,1);return t&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),e}},a&&a.name&&"function"==typeof a.clone){var i=a.clone(0);i.inherited=!0,this.object.materials.push(i)}this.objects.push(this.object)},finalize:function(){this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(t,e){var a=parseInt(t,10);return 3*(a>=0?a-1:a+e/3)},parseNormalIndex:function(t,e){var a=parseInt(t,10);return 3*(a>=0?a-1:a+e/3)},parseUVIndex:function(t,e){var a=parseInt(t,10);return 2*(a>=0?a-1:a+e/2)},addVertex:function(t,e,a){var i=this.vertices,s=this.object.geometry.vertices;s.push(i[t+0],i[t+1],i[t+2]),s.push(i[e+0],i[e+1],i[e+2]),s.push(i[a+0],i[a+1],i[a+2])},addVertexLine:function(t){var e=this.vertices;this.object.geometry.vertices.push(e[t+0],e[t+1],e[t+2])},addNormal:function(t,e,a){var i=this.normals,s=this.object.geometry.normals;s.push(i[t+0],i[t+1],i[t+2]),s.push(i[e+0],i[e+1],i[e+2]),s.push(i[a+0],i[a+1],i[a+2])},addUV:function(t,e,a){var i=this.uvs,s=this.object.geometry.uvs;s.push(i[t+0],i[t+1]),s.push(i[e+0],i[e+1]),s.push(i[a+0],i[a+1])},addUVLine:function(t){var e=this.uvs;this.object.geometry.uvs.push(e[t+0],e[t+1])},addFace:function(t,e,a,i,s,n,r,o,l){var c=this.vertices.length,d=this.parseVertexIndex(t,c),m=this.parseVertexIndex(e,c),h=this.parseVertexIndex(a,c);if(this.addVertex(d,m,h),void 0!==i){var u=this.uvs.length;d=this.parseUVIndex(i,u),m=this.parseUVIndex(s,u),h=this.parseUVIndex(n,u),this.addUV(d,m,h)}if(void 0!==r){var p=this.normals.length;d=this.parseNormalIndex(r,p),m=r===o?d:this.parseNormalIndex(o,p),h=r===l?d:this.parseNormalIndex(l,p),this.addNormal(d,m,h)}},addLineGeometry:function(t,e){this.object.geometry.type="Line";for(var a=this.vertices.length,i=this.uvs.length,s=0,n=t.length;s<n;s++)this.addVertexLine(this.parseVertexIndex(t[s],a));var r=0;for(n=e.length;r<n;r++)this.addUVLine(this.parseUVIndex(e[r],i))}};return t.startObject("",!1),t};-1!==i.indexOf("\r\n")&&(i=i.replace(/\r\n/g,"\n")),-1!==i.indexOf("\\\n")&&(i=i.replace(/\\\n/g,""));for(var n=i.split("\n"),r="",o="",l=[],c="function"==typeof"".trimLeft,d=0,m=n.length;d<m;d++)if(r=n[d],0!==(r=c?r.trimLeft():r.trim()).length&&"#"!==(o=r.charAt(0)))if("v"===o){var h=r.split(/\s+/);switch(h[0]){case"v":s.vertices.push(parseFloat(h[1]),parseFloat(h[2]),parseFloat(h[3]));break;case"vn":s.normals.push(parseFloat(h[1]),parseFloat(h[2]),parseFloat(h[3]));break;case"vt":s.uvs.push(parseFloat(h[1]),parseFloat(h[2]))}}else if("f"===o){for(var u=r.substr(1).trim().split(/\s+/),p=[],v=0,f=u.length;v<f;v++){var b=u[v];if(b.length>0){var g=b.split("/");p.push(g)}}var x=p[0];for(v=1,f=p.length-1;v<f;v++){var _=p[v],w=p[v+1];s.addFace(x[0],_[0],w[0],x[1],_[1],w[1],x[2],_[2],w[2])}}else if("l"===o){var C=r.substring(1).trim().split(" "),y=[],j=[];if(-1===r.indexOf("/"))y=C;else for(var F=0,N=C.length;F<N;F++){var $=C[F].split("/");""!==$[0]&&y.push($[0]),""!==$[1]&&j.push($[1])}s.addLineGeometry(y,j)}else if(null!==(l=t.exec(r))){var I=(" "+l[0].substr(1).trim()).substr(1);s.startObject(I)}else if(a.test(r))s.object.startMaterial(r.substring(7).trim(),s.materialLibraries);else if(e.test(r))s.materialLibraries.push(r.substring(7).trim());else{if("s"!==o){if("\0"===r)continue;throw new Error("Unexpected line: '"+r+"'")}if((l=r.split(" ")).length>1){var M=l[1].trim().toLowerCase();s.object.smooth="0"!==M&&"off"!==M}else s.object.smooth=!0;(B=s.object.currentMaterial())&&(B.smooth=s.object.smooth)}s.finalize();var A=new k.e;for(A.materialLibraries=[].concat(s.materialLibraries),d=0,m=s.objects.length;d<m;d++){var E=s.objects[d],S=E.geometry,L=E.materials,z="Line"===S.type;if(0!==S.vertices.length){var V=new k.c;V.addAttribute("position",new k.b(new Float32Array(S.vertices),3)),S.normals.length>0?V.addAttribute("normal",new k.b(new Float32Array(S.normals),3)):V.computeVertexNormals(),S.uvs.length>0&&V.addAttribute("uv",new k.b(new Float32Array(S.uvs),2));for(var q,U=[],O=0,R=L.length;O<R;O++){var D=L[O],B=void 0;if(null!==this.materials&&(B=this.materials.create(D.name),z&&B&&!(B instanceof k.f))){var G=new k.f;G.copy(B),B=G}B||((B=z?new k.f:new k.j).name=D.name),B.flatShading=!D.smooth,U.push(B)}if(U.length>1){for(O=0,R=L.length;O<R;O++)D=L[O],V.addGroup(D.groupStart,D.groupCount,O);q=z?new k.g(V,U):new k.h(V,U)}else q=z?new k.g(V,U[0]):new k.h(V,U[0]);q.name=E.name,A.add(q)}}return console.timeEnd("OBJLoader"),A}},i}(),N={name:"GoodsListItem",data:function(){return{}},props:["name","itemid"],methods:{init:function(){var t=document.getElementById("preview-"+this.itemid);this.camera=new k.k(60,t.clientWidth/t.clientHeight,.01,1e3);var e=new k.l;this.scene=e;var a=this.$apihost+"api/models/obj/"+this.itemid,i=this.$apihost+"api/models/texture/"+this.itemid,s=this;this.$http.get(a).then(function(t){(new k.m).load(i,function(a){(new F).load(t.body,function(t){s.object=t;for(var i=new k.i({map:a}),n=0;n<s.object.children.length;++n)s.object.children[n].material=i;var r=(new k.a).setFromObject(s.object),o=new k.n(0,0,0);o.x=Math.max(Math.abs(r.min.x),Math.abs(r.max.x)),o.y=Math.max(Math.abs(r.min.y),Math.abs(r.max.y)),o.z=Math.max(Math.abs(r.min.z),Math.abs(r.max.z)),s.camera.position.x=.5*(r.min.x+r.max.x)+.9*o.length(),s.camera.position.y=.5*(r.min.y+r.max.y)+.9*o.length(),s.camera.position.z=.5*(r.min.z+r.max.z)+.9*o.length(),s.camera.lookAt(new k.n(.5*(r.min.x+r.max.x),.5*(r.min.y+r.max.y),.5*(r.min.z+r.max.z))),e.add(s.object)},void 0,function(t){console.error("An error happened.")})})}).catch(function(t){}),this.renderer=new k.o({antialias:!0,alpha:!0}),this.renderer.setSize(t.clientWidth,t.clientHeight),t.appendChild(this.renderer.domElement)},animate:function(){requestAnimationFrame(this.animate),this.object&&this.object.rotateY(.005),this.renderer.render(this.scene,this.camera)},deleteItem:function(){this.$emit("on-delete",this.itemid),this.$http.delete(this.$apihost+"api/work?common02="+escape(this.$session.get("shopName"))+"&common03="+this.name).then(function(t){}).catch(function(t){})},requestItem:function(){this.$http.post(this.$apihost+"api/want/"+this.itemid).then(function(t){console.log(t)}).catch(function(t){})}},mounted:function(){this.init(),this.animate()}},$={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticClass:"goods-list-item"},[a("td",[a("div",{staticStyle:{width:"200px",height:"100px"},attrs:{id:"preview-"+t.itemid}})]),t._v(" "),a("td",[t._v("\n    "+t._s(this.name)+"\n  ")]),t._v(" "),a("td",[a("div",{staticClass:"btn btn-outline-danger pull-right",on:{click:t.deleteItem}},[t._v("Remove")]),t._v(" "),a("button",{staticClass:"btn btn-outline-primary pull-right",on:{click:t.requestItem}},[t._v("Request")])])])},staticRenderFns:[]};var I={name:"shop",data:function(){return{items:this.items}},mounted:function(){var t=this;this.items=[],this.$http.get(this.$apihost+"api/work?common02="+escape(this.$session.get("shopName"))).then(function(e){if(null!=e.body.results){var a=e.body.results.filter(function(t,e,a){return e===a.findIndex(function(e){return e.common03===t.common03})});t.items=a}else t.items=[]})},methods:{onItemDelete:function(t){for(var e=0;e<this.items.length;++e)this.items[e].item_id==t&&this.items.splice(e,1)}},components:{NavMenu:f,GoodsListItem:a("VU/8")(N,$,!1,function(t){a("S5CY")},"data-v-0b4cb056",null).exports}},M={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-full"},[a("div",{staticClass:"dark"},[a("nav-menu")],1),t._v(" "),a("div",{staticClass:"container",staticStyle:{"margin-top":"20px"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-10"},[a("table",{staticClass:"table",attrs:{width:"100%"}},[t._m(0),t._v(" "),a("tbody",t._l(t.items,function(e){return a("goods-list-item",{key:e.item_id,tag:"tr",attrs:{itemid:e.item_id,shopName:e.common02,name:e.common03},on:{"on-delete":t.onItemDelete}})}))])]),t._v(" "),a("div",{staticClass:"col-2"},[a("router-link",{staticClass:"btn btn-danger",attrs:{to:"/editor"}},[t._v("Add new")])],1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("td",[this._v("Preview")]),this._v(" "),e("td",[this._v("Name")]),this._v(" "),e("td",[this._v("Actions")])])}]};var A=a("VU/8")(I,M,!1,function(t){a("FQF2")},"data-v-3233587e",null).exports,E=a("+cKO"),S={data:function(){return{backgroundImage:p.a,shopName:this.shopName,password:this.password}},mixins:[l.validationMixin],validations:{shopName:{required:E.required,minLength:Object(E.minLength)(1)},password:{required:E.required,minLength:Object(E.minLength)(8)}},methods:{onSubmit:function(){this.$session.set("shopName",this.shopName),this.$router.replace("/shop")}},components:{NavMenu:f}},L={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-full",style:{backgroundImage:"url('"+t.backgroundImage+"')"}},[a("div",{staticClass:"d-flex flex-column justify-content-start align-items-stretch",attrs:{id:"top-container"}},[a("div",{staticClass:"dark"},[a("nav-menu",{attrs:{hidebuttons:"true"}})],1),t._v(" "),a("div",{staticClass:"dark",attrs:{id:"buttons-container"}},[a("div",{staticClass:"col-md-6 col-sm-12 col-lg-6 col-md-offset-3"},[a("div",{staticClass:"panel panel-primary"},[a("div",{staticClass:"panel-body"},[a("b-form",{on:{submit:t.onSubmit}},[a("b-form-group",{staticClass:"text-danger",attrs:{label:"Shop Name","label-for":"shopName"}},[a("b-form-input",{attrs:{id:"shopName",type:"text",state:!t.$v.shopName.$invalid,"aria-describedby":"shopName-input-feedback",placeholder:"Enter shop name"},model:{value:t.shopName,callback:function(e){t.shopName=e},expression:"shopName"}})],1),t._v(" "),a("b-form-group",{staticClass:"text-danger",attrs:{label:"Password","label-for":"password"}},[a("b-form-input",{attrs:{id:"password",type:"password",state:!t.$v.password.$invalid,"aria-describedby":"password-input-feedback",placeholder:"Enter password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("b-button",{staticClass:"col-md-3",attrs:{type:"submit",variant:"danger",disabled:t.$v.$invalid}},[t._v("Submit")]),a("br"),t._v(" "),a("router-link",{staticClass:"btn btn-link text-danger",attrs:{to:"/register"}},[t._v("I don't have account")])],1)])],1)],1)])])])])])},staticRenderFns:[]};var z=a("VU/8")(S,L,!1,function(t){a("qkFo")},"data-v-e3ea9e30",null).exports,V={data:function(){return{backgroundImage:p.a,shopName:this.shopName,password:this.password}},mixins:[l.validationMixin],validations:{shopName:{required:E.required,minLength:Object(E.minLength)(1)},password:{required:E.required,minLength:Object(E.minLength)(8)}},methods:{onSubmit:function(){this.$session.set("shopName",this.shopName),this.$router.replace("/shop")}},components:{NavMenu:f}},q={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-full",style:{backgroundImage:"url('"+t.backgroundImage+"')"}},[a("div",{staticClass:"d-flex flex-column justify-content-start align-items-stretch",attrs:{id:"top-container"}},[a("div",{staticClass:"dark"},[a("nav-menu",{attrs:{hidebuttons:"true"}})],1),t._v(" "),a("div",{staticClass:"dark",attrs:{id:"buttons-container"}},[a("div",{staticClass:"col-md-6 col-sm-12 col-lg-6 col-md-offset-3"},[a("div",{staticClass:"panel panel-primary"},[a("div",{staticClass:"panel-body"},[a("b-form",{on:{submit:t.onSubmit}},[a("b-form-group",{staticClass:"text-danger",attrs:{label:"Shop Name","label-for":"shopName"}},[a("b-form-input",{attrs:{id:"shopName",type:"text",state:!t.$v.shopName.$invalid,"aria-describedby":"shopName-input-feedback",placeholder:"Enter shop name"},model:{value:t.shopName,callback:function(e){t.shopName=e},expression:"shopName"}})],1),t._v(" "),a("b-form-group",{staticClass:"text-danger",attrs:{label:"Password","label-for":"password"}},[a("b-form-input",{attrs:{id:"password",type:"password",state:!t.$v.password.$invalid,"aria-describedby":"password-input-feedback",placeholder:"Enter password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("b-button",{attrs:{type:"submit",variant:"danger",disabled:t.$v.$invalid}},[t._v("Submit")]),t._v(" "),a("router-link",{staticClass:"btn btn-link text-danger",attrs:{to:"/login"}},[t._v("I have account")])],1)])],1)],1)])])])])])},staticRenderFns:[]};var U=a("VU/8")(V,q,!1,function(t){a("ZbMq")},"data-v-2baa2e1e",null).exports,O={data:function(){return{itemName:this.itemName,modelFile:this.modelFile,textureFile:this.textureFile,saved:this.saved}},mixins:[l.validationMixin],validations:{itemName:{required:E.required,minLength:Object(E.minLength)(1)},modelFile:{required:E.required},textureFile:{required:E.required}},methods:{init:function(){var t=document.getElementById("preview");this.camera=new k.k(60,t.clientWidth/t.clientHeight,.01,1e3);var e=new k.l;this.scene=e,this.renderer=new k.o({antialias:!0,alpha:!0}),this.renderer.setSize(t.clientWidth,t.clientHeight),t.appendChild(this.renderer.domElement)},initModel:function(){var t=this;this.object&&this.scene.remove(this.object);var e=this;(new k.m).load(e.textureFileData,function(a){(new F).load(t.modelFileData,function(t){e.object=t;for(var i=new k.i({map:a}),s=0;s<e.object.children.length;++s)e.object.children[s].material=i;var n=(new k.a).setFromObject(e.object),r=new k.n(0,0,0);r.x=Math.max(Math.abs(n.min.x),Math.abs(n.max.x)),r.y=Math.max(Math.abs(n.min.y),Math.abs(n.max.y)),r.z=Math.max(Math.abs(n.min.z),Math.abs(n.max.z)),e.camera.position.y=1.1*r.length(),e.camera.position.z=1.1*r.length(),e.camera.lookAt(new k.n(.5*(n.min.x+n.max.x),.5*(n.min.y+n.max.y),.5*(n.min.z+n.max.z))),e.scene.add(e.object)},void 0,function(t){console.error("An error happened.")})})},animate:function(){requestAnimationFrame(this.animate),this.renderer.render(this.scene,this.camera)},modelFileChanged:function(t){for(var e,a=t.target.files,i=this,s=0;e=a[s];s++){var n=new FileReader;n.onload=function(t){i.modelFileData=t.target.result,null!=i.textureFileData&&null!=i.modelFileData&&i.initModel()},n.readAsText(e)}},textureFileChanged:function(t){for(var e,a=t.target.files,i=this,s=0;e=a[s];s++){var n=new FileReader;n.onload=function(t){i.textureFileData=t.target.result,null!=i.textureFileData&&null!=i.modelFileData&&i.initModel()},n.readAsDataURL(e)}},submitForm:function(){var t=this;this.saved=!0;var e=new FormData;e.append("customer_id","Ivanov"),e.append("common02",escape(this.$session.get("shopName"))),e.append("common03",this.itemName),e.append("obj",this.modelFile,this.modelFile.name),e.append("texture",this.textureFile,this.textureFile.name),this.$http.post(this.$apihost+"api/work",e).then(function(e){t.$router.replace("/shop"),console.log(e)}).catch(function(e){t.saved=!1,console.log(e)})}},mounted:function(){this.saved=!1,this.init(),this.animate()},components:{NavMenu:f}},R={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-full"},[a("div",{staticClass:"dark"},[a("nav-menu")],1),t._v(" "),a("div",{staticClass:"container",staticStyle:{"margin-top":"20px"}},[a("div",{staticClass:"row"},[t._m(0),t._v(" "),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"row mt-3"},[t._v("Create Item")]),t._v(" "),a("div",{staticClass:"row mt-3 text-danger"},[a("b-form-input",{attrs:{state:!t.$v.itemName.$invalid,placeholder:"Item name"},model:{value:t.itemName,callback:function(e){t.itemName=e},expression:"itemName"}})],1),t._v(" "),a("div",{staticClass:"row mt-3"},[a("b-form-file",{attrs:{state:Boolean(t.modelFile),accept:".obj",placeholder:"Select model..."},on:{change:t.modelFileChanged},model:{value:t.modelFile,callback:function(e){t.modelFile=e},expression:"modelFile"}})],1),t._v(" "),a("div",{staticClass:"row mt-3"},[a("b-form-file",{attrs:{state:Boolean(t.textureFile),accept:".jpg, .png",placeholder:"Select texture..."},on:{change:t.textureFileChanged},model:{value:t.textureFile,callback:function(e){t.textureFile=e},expression:"textureFile"}})],1),t._v(" "),a("div",{staticClass:"row mt-3 row justify-content-between"},[a("b-button",{staticClass:"col-5",attrs:{variant:"danger",disabled:t.$v.$invalid&&!this.saved},on:{click:function(e){t.submitForm()}}},[t._v("Submit")]),t._v(" "),a("router-link",{staticClass:"btn btn-outline-secondary col-5",attrs:{to:"/shop"}},[t._v("Cancel")])],1)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-md-8"},[e("div",{attrs:{id:"preview"}})])}]};var D=a("VU/8")(O,R,!1,function(t){a("uBWj")},"data-v-509f259a",null).exports;i.a.use(h.a);var B=new h.a({routes:[{path:"/",component:x},{path:"/info",component:j},{path:"/shop",secure:!0,component:A},{path:"/editor",secure:!0,component:D},{path:"/login",component:z},{path:"/register",component:U}]});i.a.prototype.$apihost="http://192.168.137.145/",i.a.use(s.a),i.a.use(n.a),i.a.use(o.a),i.a.use(c.a),i.a.http.headers.common["Content-Type"]="application/x-www-form-urlencoded",i.a.http.headers.common["Access-Control-Allow-Origin"]="*",i.a.http.headers.common.Accept="pplication/x-www-form-urlencoded, application/json, text/plain, */*",i.a.http.headers.common["Access-Control-Allow-Headers"]="Origin, Accept, Content-Type, Authorization, Access-Control-Allow-Origin",i.a.config.productionTip=!1,i.a.mixin({data:function(){return{get projectName(){return"Gallium"}}}}),B.beforeEach(function(t,e,a){for(var i=0;i<B.options.routes.length;++i){var s=B.options.routes[i];if(t.matched[0].path===s.path&&s.secure&&!B.app.$session.has("shopName"))return B.app.$session.destroy(),a("/register")}a()}),new i.a({el:"#app",router:B,components:{App:m},template:"<App/>"})},S5CY:function(t,e){},UIyo:function(t,e){},Z4Eo:function(t,e){},ZbMq:function(t,e){},aREd:function(t,e,a){t.exports=a.p+"static/img/chair.f9cdfbb.png"},qkFo:function(t,e){},uBWj:function(t,e){},zj2Q:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.6594e24e878e581c9769.js.map